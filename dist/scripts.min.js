var pokemonRepository=function(){var t=[],e=$("#modal-container"),n="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(e){t.push(e)}function a(t){pokemonRepository.loadDetails(t).then(function(){i(t)})}function i(t){var e=$("#modal-container");e.empty();var n=$('<div class="modal"></div>'),o=$('<button class="modal-close"></button>');o.text("Close"),o.click(s);var a=$("<h1>"+t.name+"</h1>"),i=$("<p>Height:"+t.height+"m</p>"),p=$("<p>Weight:"+t.weight+"kg</p>"),r=$("<p>Types : "+t.types+"</p>"),l=$('<img class="modal-img">');l.attr("src",t.imageUrl),n.append(a),n.append(i),n.append(p),n.append(r),n.append(l),n.append(o),e.append(n),e.addClass("is-visible")}function s(){$("#modal-container").removeClass("is-visible")}return $(window).on("keydown",t=>{var e=$("#modal-container");"Escape"===t.key&&e.hasClass("is-visible")&&s()}),(e=document.querySelector("#modal-container")).addEventListener("click",t=>{t.target===e&&s()}),{add:o,getAll:function(){return t},addListItem:function(t){var e=$(".pokemon-list"),n=$("<li>"),o=$('<button type="button" class="pokemon-button btn btn-primary"> '+t.name+"</button>");o.click(function(){a(t)}),n.append(o),e.append(n)},loadList:function(){return $.ajax(n).then(function(t){t.results.forEach(function(t){o({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var e=t.detailsUrl;return $.ajax(e).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=[];for(var n=0;n<e.types.length;n++)t.types.push(e.types[n].type.name)}).catch(function(t){console.error(t)})},showDetails:a,showModal:i,hideModal:s}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});
